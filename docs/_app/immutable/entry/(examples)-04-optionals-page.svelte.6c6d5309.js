var m=Object.defineProperty;var B=(t,n,e)=>n in t?m(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var r=(t,n,e)=>(B(t,typeof n!="symbol"?n+"":n,e),e);import{S as y,i as I,s as w,I as C,ac as f}from"../chunks/index.9fe14626.js";import{d as i,g as p,s as u}from"../chunks/store.96cf5894.js";import{d as b}from"../chunks/index.7100d5a9.js";const Q="# Optionals\n\nOptionals are variables or struct fields that can be null and don't necessarily hold a value. They are useful to reduce state size when the variable isn't necessarily used.\n\nYou can make any variable optional by adding `?` after its type.\n\nOptional variables that are not defined hold the `null` value. You cannot access them without checking for `null` first.\n\nIf you're certain an optional variable is not null, append to the end of its name `!!` to access its value. Trying to access the value without `!!` will result in a compilation error.",v=`import "@stdlib/deploy";

struct StrctOpts {
    sa: Int?;
    sb: Bool?;
    sc: Address?;
}

message MsgOpts {
    ma: Int?;
    mb: Bool?;
    mc: Address?;
    md: StrctOpts?;
}

contract Optionals with Deployable {

    ca: Int?;
    cb: Bool?;
    cc: Address?;
    cd: StrctOpts?;

    init(a: Int?, b: Bool?, c: Address?) {
        self.ca = a;
        self.cb = b;
        self.cc = c;
        self.cd = StrctOpts{sa: null, sb: true, sc: null};
    }

    receive(msg: MsgOpts) {
        let i: Int = 12;
        if (msg.ma != null) {
            i = i + msg.ma!!; // !! tells the compiler this can't be null
            self.ca = i;
        }
    }

    get fun optInt(): Int? {
        return self.ca;
    }

    get fun optIntVal(): Int {
        if (self.ca == null) {
            return -1;
        } else {
            return self.ca!!; // !! tells the compiler this can't be null
        }
    }

    get fun optNested(): Int? {
        if (self.cd != null && (self.cd!!).sa != null) {
            return (self.cd!!).sa!!; // !! tells the compiler this can't be null
        } else {
            return null;
        }
    }
}`;function E(t){return n=>{let e=n;e.storeUint(2490013878,32),e.storeUint(t.queryId,64)}}function h(t){return n=>{let e=n;t.sa!==null&&t.sa!==void 0?e.storeBit(!0).storeInt(t.sa,257):e.storeBit(!1),t.sb!==null&&t.sb!==void 0?e.storeBit(!0).storeBit(t.sb):e.storeBit(!1),e.storeAddress(t.sc)}}function k(t){return n=>{let e=n;e.storeUint(162313165,32),t.ma!==null&&t.ma!==void 0?e.storeBit(!0).storeInt(t.ma,257):e.storeBit(!1),t.mb!==null&&t.mb!==void 0?e.storeBit(!0).storeBit(t.mb):e.storeBit(!1),e.storeAddress(t.mc);let l=new i.Builder;t.md!==null&&t.md!==void 0?(l.storeBit(!0),l.store(h(t.md))):l.storeBit(!1),e.storeRef(l.endCell())}}function M(t){return n=>{let e=n;t.a!==null&&t.a!==void 0?e.storeBit(!0).storeInt(t.a,257):e.storeBit(!1),t.b!==null&&t.b!==void 0?e.storeBit(!0).storeBit(t.b):e.storeBit(!1),e.storeAddress(t.c)}}async function g(t,n,e){const l=i.Cell.fromBase64("te6ccgECHAEABPIAART/APSkE/S88sgLAQIBYgIDA3rQAdDTAwFxsKMB+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiFRQUwNvBPhhAvhi2zxVE9s88uCCFQQFAgEgCwwCngGSMH/gcCHXScIflTAg1wsf3iCCEAmss8264wKCEJRqmLa6jqfTHwGCEJRqmLa68uCB0z8BMcgBghCv+Q9XWMsfyz/J+EIBcG3bPH/gMHAGBwHgyPhDAcx/AcoAVTAjbrObf1AFygATgQEBzwCYM3BQBMoAECPiIW6zln8BygDKAJRwMsoA4gEgbpUwcAHLAY4eINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8W4sgibrOVMnBYygDjDckBzMntVAoB6jDTHwGCEAmss8268uCB0gABlYEBAdcAkm0B4tIAAZLSAJJtAeL6QCHXCwHDAI4dASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IiSMW3iAdQB0NIAAZIwbeMNFEMwbBRfAyBus5o0AyBu8tCApgwDkTDifxcBOm1tIm6zmVsgbvLQgG8iAZEy4hAkcAMEgEJQI9s8CAHKyHEBygFQBwHKAHABygJQBSDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFlAD+gJwAcpoI26zkX+TJG6z4pczMwFwAcoA4w0hbrOcfwHKAAEgbvLQgAHMlTFwAcoA4skB+wAJAJh/AcoAyHABygBwAcoAJG6znX8BygAEIG7y0IBQBMyWNANwAcoA4iRus51/AcoABCBu8tCAUATMljQDcAHKAOJwAcoAAn8BygACyVjMAMB/AcoAAiBu8tCAbyMQNCJus5t/UATKABKBAQHPAJcycFADygAS4iFus5Z/AcoAygCUcDLKAOIBIG6VMHABywGOHiDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFuICEb4D9tnm2eNiDBUNAgEgDg8ARiBus5sgIG7y0IBvI1tus5Fw4p4gIG7y0IBvI1sgbvLQgOBtAgEgEBECAUgaGwIBWBITALm3ejBOC52Hq6WVz2PQnYc6yVCjbNBOE7rGpaVsj5ZkWnXlv74sRzBOBAq4A3AM7HKZywdVyOS2WHBOA3qTvfKost446np7wKs4ZNBOE7Lpy1Zp2W5nQdLNsozdFJACEaxD7Z5tnjYgwBUUAhGtCe2ebZ42IMAVFgAWI26Rf+AjIG7y0IAC1u1E0NQB+GPSAAGO09IAAZWBAQHXAJJtAeLSAAGS0gCSbQHi+kAh1wsBwwCOHQEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIkjFt4gHUAdDSAAGSMG3jDRRDMGwU4Pgo1wsKgwm68uCJFxgAAiMAkNIAAZWBAQHXAJJtAeLSAAGS0gCSbQHi+kAh1wsBwwCOHQEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIkjFt4kMwbBNvAwGS0gABlYEBAdcAkm0B4tIAAZLSAJJtAeL6QCHXCwHDAI4dASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IiSMW3iQzAD0VjbPBkACm1/bW8DABGwr7tRNDSAAGAAdbJu40NWlwZnM6Ly9RbVBXVzdnMjRkTHZwenYzU3dRVnJaY2VEcHQxUkR6RFN3R0VtbVNGUXdyOXJ2gg"),s=i.Cell.fromBase64("te6cckECHgEABPwAAQHAAQEFoB0zAgEU/wD0pBP0vPLICwMCAWISBAIBIBAFAgEgCQYCAUgIBwB1sm7jQ1aXBmczovL1FtUFdXN2cyNGRMdnB6djNTd1FWclpjZURwdDFSRHpEU3dHRW1tU0ZRd3I5cnaCAAEbCvu1E0NIAAYAIBIAsKALm3ejBOC52Hq6WVz2PQnYc6yVCjbNBOE7rGpaVsj5ZkWnXlv74sRzBOBAq4A3AM7HKZywdVyOS2WHBOA3qTvfKost446np7wKs4ZNBOE7Lpy1Zp2W5nQdLNsozdFJACAVgODAIRrQntnm2eNiDAGg0AAiMCEaxD7Z5tnjYgwBoPABYjbpF/4CMgbvLQgAIRvgP22ebZ42IMGhEARiBus5sgIG7y0IBvI1tus5Fw4p4gIG7y0IBvI1sgbvLQgOBtA3rQAdDTAwFxsKMB+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiFRQUwNvBPhhAvhi2zxVE9s88uCCGhUTAeDI+EMBzH8BygBVMCNus5t/UAXKABOBAQHPAJgzcFAEygAQI+IhbrOWfwHKAMoAlHAyygDiASBulTBwAcsBjh4g10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxbiyCJus5UycFjKAOMNyQHMye1UFADAfwHKAAIgbvLQgG8jEDQibrObf1AEygASgQEBzwCXMnBQA8oAEuIhbrOWfwHKAMoAlHAyygDiASBulTBwAcsBjh4g10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxbiAp4BkjB/4HAh10nCH5UwINcLH94gghAJrLPNuuMCghCUapi2uo6n0x8BghCUapi2uvLggdM/ATHIAYIQr/kPV1jLH8s/yfhCAXBt2zx/4DBwGRYBOm1tIm6zmVsgbvLQgG8iAZEy4hAkcAMEgEJQI9s8FwHKyHEBygFQBwHKAHABygJQBSDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFlAD+gJwAcpoI26zkX+TJG6z4pczMwFwAcoA4w0hbrOcfwHKAAEgbvLQgAHMlTFwAcoA4skB+wAYAJh/AcoAyHABygBwAcoAJG6znX8BygAEIG7y0IBQBMyWNANwAcoA4iRus51/AcoABCBu8tCAUATMljQDcAHKAOJwAcoAAn8BygACyVjMAeow0x8BghAJrLPNuvLggdIAAZWBAQHXAJJtAeLSAAGS0gCSbQHi+kAh1wsBwwCOHQEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIkjFt4gHUAdDSAAGSMG3jDRRDMGwUXwMgbrOaNAMgbvLQgKYMA5Ew4n8dAtbtRNDUAfhj0gABjtPSAAGVgQEB1wCSbQHi0gABktIAkm0B4vpAIdcLAcMAjh0BINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiJIxbeIB1AHQ0gABkjBt4w0UQzBsFOD4KNcLCoMJuvLgiR0bAZLSAAGVgQEB1wCSbQHi0gABktIAkm0B4vpAIdcLAcMAjh0BINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiJIxbeJDMAPRWNs8HAAKbX9tbwMAkNIAAZWBAQHXAJJtAeLSAAGS0gCSbQHi+kAh1wsBwwCOHQEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIkjFt4kMwbBNvA/p4gvU=");let a=i.beginCell();a.storeRef(s),a.storeUint(0,1),M({$$type:"Optionals_init_args",a:t,b:n,c:e})(a);const o=a.endCell();return{code:l,data:o}}const O={2:{message:"Stack undeflow"},3:{message:"Stack overflow"},4:{message:"Integer overflow"},5:{message:"Integer out of expected range"},6:{message:"Invalid opcode"},7:{message:"Type check error"},8:{message:"Cell overflow"},9:{message:"Cell underflow"},10:{message:"Dictionary error"},13:{message:"Out of gas error"},32:{message:"Method ID not found"},34:{message:"Action is invalid or not supported"},37:{message:"Not enough TON"},38:{message:"Not enough extra-currencies"},128:{message:"Null reference exception"},129:{message:"Invalid serialization prefix"},130:{message:"Invalid incoming message"},131:{message:"Constraints error"},132:{message:"Access denied"},133:{message:"Contract stopped"},134:{message:"Invalid argument"},135:{message:"Code of a contract was not found"},136:{message:"Invalid address"},137:{message:"Masterchain support is not enabled for this contract"}},H=[{name:"StateInit",header:null,fields:[{name:"code",type:{kind:"simple",type:"cell",optional:!1}},{name:"data",type:{kind:"simple",type:"cell",optional:!1}}]},{name:"Context",header:null,fields:[{name:"bounced",type:{kind:"simple",type:"bool",optional:!1}},{name:"sender",type:{kind:"simple",type:"address",optional:!1}},{name:"value",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"raw",type:{kind:"simple",type:"slice",optional:!1}}]},{name:"SendParameters",header:null,fields:[{name:"bounce",type:{kind:"simple",type:"bool",optional:!1}},{name:"to",type:{kind:"simple",type:"address",optional:!1}},{name:"value",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"mode",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"body",type:{kind:"simple",type:"cell",optional:!0}},{name:"code",type:{kind:"simple",type:"cell",optional:!0}},{name:"data",type:{kind:"simple",type:"cell",optional:!0}}]},{name:"Deploy",header:2490013878,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"DeployOk",header:2952335191,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"FactoryDeploy",header:1829761339,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"cashback",type:{kind:"simple",type:"address",optional:!1}}]},{name:"StrctOpts",header:null,fields:[{name:"sa",type:{kind:"simple",type:"int",optional:!0,format:257}},{name:"sb",type:{kind:"simple",type:"bool",optional:!0}},{name:"sc",type:{kind:"simple",type:"address",optional:!0}}]},{name:"MsgOpts",header:162313165,fields:[{name:"ma",type:{kind:"simple",type:"int",optional:!0,format:257}},{name:"mb",type:{kind:"simple",type:"bool",optional:!0}},{name:"mc",type:{kind:"simple",type:"address",optional:!0}},{name:"md",type:{kind:"simple",type:"StrctOpts",optional:!0}}]}],D=[{name:"optInt",arguments:[],returnType:{kind:"simple",type:"int",optional:!0,format:257}},{name:"optIntVal",arguments:[],returnType:{kind:"simple",type:"int",optional:!1,format:257}},{name:"optNested",arguments:[],returnType:{kind:"simple",type:"int",optional:!0,format:257}}],S=[{receiver:"internal",message:{kind:"typed",type:"MsgOpts"}},{receiver:"internal",message:{kind:"typed",type:"Deploy"}}];class A{constructor(n,e){r(this,"address");r(this,"init");r(this,"abi",{types:[{name:"StateInit",header:null,fields:[]},{name:"Context",header:null,fields:[]},{name:"SendParameters",header:null,fields:[]},{name:"Deploy",header:2490013878,fields:[]},{name:"DeployOk",header:2952335191,fields:[]},{name:"FactoryDeploy",header:1829761339,fields:[]},{name:"StrctOpts",header:null,fields:[]},{name:"MsgOpts",header:162313165,fields:[]}],types:H,getters:D,receivers:S,errors:O});this.address=n,this.init=e}static async init(n,e,l){return await g(n,e,l)}static async fromInit(n,e,l){const s=await g(n,e,l),a=i.contractAddress(0,s);return new A(a,s)}static fromAddress(n){return new A(n)}async send(n,e,l,s){let a=null;if(s&&typeof s=="object"&&!(s instanceof i.Slice)&&s.$$type==="MsgOpts"&&(a=i.beginCell().store(k(s)).endCell()),s&&typeof s=="object"&&!(s instanceof i.Slice)&&s.$$type==="Deploy"&&(a=i.beginCell().store(E(s)).endCell()),a===null)throw new Error("Invalid message type");await n.internal(e,{...l,body:a})}async getOptInt(n){let e=new i.TupleBuilder;return(await n.get("optInt",e.build())).stack.readBigNumberOpt()}async getOptIntVal(n){let e=new i.TupleBuilder;return(await n.get("optIntVal",e.build())).stack.readBigNumber()}async getOptNested(n){let e=new i.TupleBuilder;return(await n.get("optNested",e.build())).stack.readBigNumberOpt()}}function L(t,n,e){let l;C(t,u,o=>e(2,l=o));let s,a;return f(u,l={markdown:Q,tactCode:v,deploy:async()=>{const o=await b.Blockchain.create(),d=await o.treasury("deployer");s=d.getSender(),a=o.openContract(await A.fromInit(null,null,null));const c={[d.address.toString()]:"deployer",[a.address.toString()]:"contract"};return[[a],c,[await a.send(d.getSender(),{value:i.toNano(1)},{$$type:"Deploy",queryId:0n})]]},messages:{"MsgOpts{ma:5}":async()=>[await a.send(s,{value:i.toNano(1)},{$$type:"MsgOpts",ma:5n,mb:null,mc:null,md:null})]},getters:{optInt:async()=>await a.getOptInt(),optIntVal:async()=>await a.getOptIntVal(),optNested:async()=>await a.getOptNested()},prev:p(import.meta.url).prev,next:p(import.meta.url).next},l),[]}class F extends y{constructor(n){super(),I(this,n,L,null,w,{})}}export{F as default};
